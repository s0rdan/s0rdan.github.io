---
title: A simple NLP model
description: From first COMP tutorial
---


~~~python
# To run in an ipython notebook on the docker image
%%capture
%load\_ext autoreload
%autoreload 2
%matplotlib inline
import sys
sys.path.append("..")
import statnlpbook.util as util
import matplotlib
import matplotlib.pyplot as plt
matplotlib.rcParams['figure.figsize']() = (10.0, 6.0)


dictionary = 'i':'ich', 'ate':'aß', 'red':'rot', 'apple':'apfel', 'yesterday':'gestern','friend':'freund', 'with':'mit', 'an':'ein', 'a':'ein'


import math
import numpy as np

x\_space = ['I ate an apple', 
]()   'I ate a red apple', 
   'Yesterday I ate a red apple', 
   'Yesterday I ate a red apply with a friend']
y\_space = ['Ich aß einen Apfel',
]()   'Ich aß einen roten Apfel',
   'Gestern aß ich einen roten Apfel',
   'Gestern aß ich einen roten Apfel mit einem Freund']
data = list(zip(x\_space,y\_space))
train = data[:2]()
test = data[2:]()

def f(x):
input\_ = x.split()
fake\_translation = []()
for word in input\_:
try:
fake\_translation.append(dictionary[word.lower()]())
except: pass
return fake\_translation

def similarity(x, y):
fake\_translation = f(x)
real\_translation = y.split()
total = 0
for fake\_word in fake\_translation:
for real\_word in real\_translation:
if fake\_word in real\_word.lower():
total +=1
lenx, leny = len(x.split()), len(y.split())

measure = total / float(max(lenx, leny))
if measure \> 1.0:
return 1.0
else:
return measure

def prediction(x, y\_space):
measure = 0
for idx, sentence in enumerate(y\_space):
score = similarity(x, sentence)
if score \> measure:
measure = score
position = idx
return y\_space[position]()

xpred = 'An apple fell off the tree yesterday'
prediction(xpred, y\_space)

sample = x\_space[3]()
util.Table([(sample, y, similarity(sample, y)) for y in y\_space for sample in x\_space]())
~~~

